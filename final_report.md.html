<html>
<head><meta charset="UTF-8"><meta http-equiv="content-type" content="text/html;charset=UTF-8"><meta name="viewport" content="width=600, initial-scale=1"><style>body{max-width:680px;margin:auto;padding:20px;text-align:justify;line-height:140%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-smoothing:antialiased;color:#222;font-family:Palatino,Georgia,"Times New Roman",serif}</style><style>@media print{*{-webkit-print-color-adjust:exact;text-shadow:none !important}}body{counter-reset: h1 paragraph line item list-item}@page{margin:0;size:auto}#mdContextMenu{position:absolute;background:#383838;cursor:default;border:1px solid #999;color:#fff;padding:4px 0px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,"Helvetica Neue",sans-serif;font-size:85%;font-weight:600;border-radius:4px;box-shadow:0px 3px 10px rgba(0,0,0,35%)}#mdContextMenu div{padding:0px 20px}#mdContextMenu div:hover{background:#1659d1}.md code,.md pre{font-family:Menlo,Consolas,monospace;font-size:85%;text-align:left;line-height:140%}.md .mediumToc code,.md longToc code,.md .shortToc code,.md h1 code,.md h2 code,.md h3 code,.md h4 code,.md h5 code,.md h6 code{font-size:unset}.md div.title{font-size:26px;font-weight:800;line-height:120%;text-align:center}.md div.afterTitles{height:10px}.md div.subtitle{text-align:center}.md iframe.textinsert, .md object.textinsert,.md iframe:not(.markdeep){display:block;margin-top:10px;margin-bottom:10px;width:100%;height:75vh;border:1px solid #000;border-radius:4px;background:#f5f5f4}.md .image{display:inline-block}.md img{max-width:100%;page-break-inside:avoid}.md li{text-align:left;text-indent:0}.md pre.listing {width:100%;tab-size:4;-moz-tab-size:4;-o-tab-size:4;counter-reset:line;overflow-x:auto;resize:horizontal}.md pre.listing .linenumbers span.line:before{width:30px;margin-left:-28px;font-size:80%;text-align:right;counter-increment:line;content:counter(line);display:inline-block;padding-right:13px;margin-right:8px;color:#ccc}.md div.tilde{margin:20px 0 -10px;text-align:center}.md .imagecaption,.md .tablecaption,.md .listingcaption{display:inline-block;margin:7px 5px 12px;text-align:justify;font-style:italic}.md img.pixel{image-rendering:-moz-crisp-edges;image-rendering:pixelated}.md blockquote.fancyquote{margin:25px 0 25px;text-align:left;line-height:160%}.md blockquote.fancyquote::before{content:"“";color:#DDD;font-family:Times New Roman;font-size:45px;line-height:0;margin-right:6px;vertical-align:-0.3em}.md span.fancyquote{font-size:118%;color:#777;font-style:italic}.md span.fancyquote::after{content:"”";font-style:normal;color:#DDD;font-family:Times New Roman;font-size:45px;line-height:0;margin-left:6px;vertical-align:-0.3em}.md blockquote.fancyquote .author{width:100%;margin-top:10px;display:inline-block;text-align:right}.md small{font-size:60%}.md big{font-size:150%}.md div.title,contents,.md .tocHeader,.md h1,.md h2,.md h3,.md h4,.md h5,.md h6,.md .shortTOC,.md .mediumTOC,.nonumberh1,.nonumberh2,.nonumberh3,.nonumberh4,.nonumberh5,.nonumberh6{font-family:Verdana,Helvetica,Arial,sans-serif;margin:13.4px 0 13.4px;padding:15px 0 3px;border-top:none;clear:both}.md .tocTop {display:none}.md h1,.md h2,.md h3,.md h4,.md h5,.md h6,.md .nonumberh1,.md .nonumberh2,.md .nonumberh3,.md .nonumberh4,.md .nonumberh5,.md .nonumberh6{page-break-after:avoid;break-after:avoid}.md svg.diagram{display:block;font-family:Menlo,Consolas,monospace;font-size:85%;text-align:center;stroke-linecap:round;stroke-width:2px;page-break-inside:avoid;stroke:#000;fill:#000}.md svg.diagram .opendot{fill:#fff}.md svg.diagram .shadeddot{fill:#CCC}.md svg.diagram .dotteddot{stroke:#000;stroke-dasharray:4;fill:none}.md svg.diagram text{stroke:none}@media print{@page{margin:1in 5mm;transform: scale(150%)}}@media print{.md .pagebreak{page-break-after:always;visibility:hidden}}.md a{font-family:Georgia,Palatino,'Times New Roman'}.md h1,.md .tocHeader,.md .nonumberh1{border-bottom:3px solid;font-size:20px;font-weight:bold;}.md h1,.md .nonumberh1{counter-reset:h2 h3 h4 h5 h6}.md h2,.md .nonumberh2{counter-reset:h3 h4 h5 h6;border-bottom:2px solid #999;color:#555;font-weight:bold;font-size:18px;}.md h3,.md h4,.md h5,.md h6,.md .nonumberh3,.md .nonumberh4,.md .nonumberh5,.md .nonumberh6{font-family:Verdana,Helvetica,Arial,sans-serif;color:#555;font-size:16px;}.md h3{counter-reset:h4 h5 h6}.md h4{counter-reset:h5 h6}.md h5{counter-reset:h6}.md div.table{margin:16px 0 16px 0}.md table{border-collapse:collapse;line-height:140%;page-break-inside:avoid}.md table.table{margin:auto}.md table.calendar{width:100%;margin:auto;font-size:11px;font-family:Verdana,Helvetica,Arial,sans-serif}.md table.calendar th{font-size:16px}.md .today{background:#ECF8FA}.md .calendar .parenthesized{color:#999;font-style:italic}.md table.table th{color:#FFF;background-color:#AAA;border:1px solid #888;padding:8px 15px 8px 15px}.md table.table td{padding:5px 15px 5px 15px;border:1px solid #888}.md table.table tr:nth-child(even){background:#EEE}.md pre.tilde{border-top: 1px solid #CCC;border-bottom: 1px solid #CCC;padding: 5px 0 5px 20px;margin:0 0 0 0;background:#FCFCFC;page-break-inside:avoid}.md a.target{width:0px;height:0px;visibility:hidden;font-size:0px;display:inline-block}.md a:link, .md a:visited{color:#38A;text-decoration:none}.md a:link:hover{text-decoration:underline}.md dt{font-weight:700}.md dl>dd{margin-top:-8px; margin-bottom:8px}.md dl>table{margin:35px 0 30px}.md code{page-break-inside:avoid;} @media print{.md .listing code{white-space:pre-wrap}}.md .endnote{font-size:13px;line-height:15px;padding-left:10px;text-indent:-10px}.md .bib{padding-left:80px;text-indent:-80px;text-align:left}.markdeepFooter{font-size:9px;text-align:right;padding-top:80px;color:#999}.md .mediumTOC{float:right;font-size:12px;line-height:15px;border-left:1px solid #CCC;padding-left:15px;margin:15px 0px 15px 25px}.md .mediumTOC .level1{font-weight:600}.md .longTOC .level1{font-weight:600;display:block;padding-top:12px;margin:0 0 -20px}.md .shortTOC{text-align:center;font-weight:bold;margin-top:15px;font-size:14px}.md .admonition{position:relative;margin:1em 0;padding:.4rem 1rem;border-radius:.2rem;border-left:2.5rem solid rgba(68,138,255,.4);background-color:rgba(68,138,255,.15);}.md .admonition-title{font-weight:bold;border-bottom:solid 1px rgba(68,138,255,.4);padding-bottom:4px;margin-bottom:4px;margin-left: -1rem;padding-left:1rem;margin-right:-1rem;border-color:rgba(68,138,255,.4)}.md .admonition.tip{border-left:2.5rem solid rgba(50,255,90,.4);background-color:rgba(50,255,90,.15)}.md .admonition.tip::before{content:"\24d8";font-weight:bold;font-size:150%;position:relative;top:3px;color:rgba(26,128,46,.8);left:-2.95rem;display:block;width:0;height:0}.md .admonition.tip>.admonition-title{border-color:rgba(50,255,90,.4)}.md .admonition.warn,.md .admonition.warning{border-left:2.5rem solid rgba(255,145,0,.4);background-color:rgba(255,145,0,.15)}.md .admonition.warn::before,.md .admonition.warning::before{content:"\26A0";font-weight:bold;font-size:150%;position:relative;top:2px;color:rgba(128,73,0,.8);left:-2.95rem;display:block;width:0;height:0}.md .admonition.warn>.admonition-title,.md .admonition.warning>.admonition-title{border-color:rgba(255,145,0,.4)}.md .admonition.error{border-left: 2.5rem solid rgba(255,23,68,.4);background-color:rgba(255,23,68,.15)}.md .admonition.error>.admonition-title{border-color:rgba(255,23,68,.4)}.md .admonition.error::before{content: "\2612";font-family:"Arial";font-size:200%;position:relative;color:rgba(128,12,34,.8);top:-2px;left:-3rem;display:block;width:0;height:0}.md .admonition p:last-child{margin-bottom:0}.md li.checked,.md li.unchecked{list-style:none;overflow:visible;text-indent:-1.2em}.md li.checked:before,.md li.unchecked:before{content:"\2611";display:block;float:left;width:1em;font-size:120%}.md li.unchecked:before{content:"\2610"}</style><style>.md h1::before {
content:counter(h1) " ";
counter-increment: h1;margin-right:10px}

.md h2::before {
content:counter(h1) "."counter(h2) " ";
counter-increment: h2;margin-right:10px}

.md h3::before {
content:counter(h1) "."counter(h2) "."counter(h3) " ";
counter-increment: h3;margin-right:10px}

.md h4::before {
content:counter(h1) "."counter(h2) "."counter(h3) "."counter(h4) " ";
counter-increment: h4;margin-right:10px}

.md h5::before {
content:counter(h1) "."counter(h2) "."counter(h3) "."counter(h4) "."counter(h5) " ";
counter-increment: h5;margin-right:10px}

.md h6::before {
content:counter(h1) "."counter(h2) "."counter(h3) "."counter(h4) "."counter(h5) "."counter(h6) " ";
counter-increment: h6;margin-right:10px}

</style><style>.hljs{display:block;overflow-x:auto;padding:0.5em;background:#fff;color:#000;-webkit-text-size-adjust:none}.hljs-comment{color:#006a00}.hljs-keyword{color:#02E}.hljs-literal,.nginx .hljs-title{color:#aa0d91}.method,.hljs-list .hljs-title,.hljs-tag .hljs-title,.setting .hljs-value,.hljs-winutils,.tex .hljs-command,.http .hljs-title,.hljs-request,.hljs-status,.hljs-name{color:#008}.hljs-envvar,.tex .hljs-special{color:#660}.hljs-string{color:#c41a16}.hljs-tag .hljs-value,.hljs-cdata,.hljs-filter .hljs-argument,.hljs-attr_selector,.apache .hljs-cbracket,.hljs-date,.hljs-regexp{color:#080}.hljs-sub .hljs-identifier,.hljs-pi,.hljs-tag,.hljs-tag .hljs-keyword,.hljs-decorator,.ini .hljs-title,.hljs-shebang,.hljs-prompt,.hljs-hexcolor,.hljs-rule .hljs-value,.hljs-symbol,.hljs-symbol .hljs-string,.hljs-number,.css .hljs-function,.hljs-function .hljs-title,.coffeescript .hljs-attribute{color:#A0C}.hljs-function .hljs-title{font-weight:bold;color:#000}.hljs-class .hljs-title,.smalltalk .hljs-class,.hljs-type,.hljs-typename,.hljs-tag .hljs-attribute,.hljs-doctype,.hljs-class .hljs-id,.hljs-built_in,.setting,.hljs-params,.clojure .hljs-attribute{color:#5c2699}.hljs-variable{color:#3f6e74}.css .hljs-tag,.hljs-rule .hljs-property,.hljs-pseudo,.hljs-subst{color:#000}.css .hljs-class,.css .hljs-id{color:#9b703f}.hljs-value .hljs-important{color:#ff7700;font-weight:bold}.hljs-rule .hljs-keyword{color:#c5af75}.hljs-annotation,.apache .hljs-sqbracket,.nginx .hljs-built_in{color:#9b859d}.hljs-preprocessor,.hljs-preprocessor *,.hljs-pragma{color:#643820}.tex .hljs-formula{background-color:#eee;font-style:italic}.diff .hljs-header,.hljs-chunk{color:#808080;font-weight:bold}.diff .hljs-change{background-color:#bccff9}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-comment .hljs-doctag{font-weight:bold}.method .hljs-id{color:#000}</style><style>div.title { padding-top: 40px; } div.afterTitles { height: 15px; }</style><meta charset="utf-8" emacsmode="-*- markdown -*-">
</head>
<body id="md" style="visibility: visible;" class=""><span class="md"><p><title>Smart Security System - Final Report</title></p><div class="title"> Smart Security System - Final Report </div>

    <div class="afterTitles"></div>
    
    <p></p><p> 
    Security is very important for the function of any embedded system. And with the current rise of cyberattacks, our team has decided to design and create a smart security lock/access that gives users the ability to access their documents, be it financial, top secret NSA files, or pranks on friends.
    Due to that, our team has decided to implement from scratch a smart lock system that is user-friendly to all groups of people.
    Our system can set different levels of protection to a specific door for a specific user, which can be done by admin through our server.
    So when a user plans to unlock a door, they are prompted to enter a sequence of passcodes and other authentification ways, which are preliminary set up in the database through admin interface. These can be some or all from: RFID verification, password, pincode, secret phrase, gesture password, depending on the configuration set up in a database. Only if all of the required authentification methods are unlocked by a user correctly, the lock is unlocked.
    As a way to demonstrate our project, we constructed a cardboard door, which is getting open only if the user answered all the prompts correctly and the user has access to this door.
    
    </p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/JdyyPLY9_Gs" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Full System Video</span></center></div></center>
    
    <p></p>
    <div class="longTOC"><div class="tocHeader">Contents</div><p><a href="#" class="tocTop">(Top)</a><br>
    <a href="#functionality" class="level1"><span class="tocNumber">1&nbsp; </span>Functionality</a><br>
    &nbsp;&nbsp;<a href="#functionality/idlemode" class="level2"><span class="tocNumber">1.1&nbsp; </span>IDLE Mode</a><br>
    &nbsp;&nbsp;<a href="#functionality/freeplaymode" class="level2"><span class="tocNumber">1.2&nbsp; </span>Freeplay Mode</a><br>
    &nbsp;&nbsp;<a href="#functionality/multinotemode" class="level2"><span class="tocNumber">1.3&nbsp; </span>Multinote Mode</a><br>
    &nbsp;&nbsp;<a href="#functionality/recordingmode" class="level2"><span class="tocNumber">1.4&nbsp; </span>Recording Mode</a><br>
    &nbsp;&nbsp;<a href="#functionality/songmode" class="level2"><span class="tocNumber">1.5&nbsp; </span>Song Mode</a><br>
    &nbsp;&nbsp;<a href="#functionality/seqeuncermode" class="level2"><span class="tocNumber">1.6&nbsp; </span>Seqeuncer Mode</a><br>
    &nbsp;&nbsp;<a href="#functionality/notificationled" class="level2"><span class="tocNumber">1.7&nbsp; </span>Notification LED</a><br>
    &nbsp;&nbsp;<a href="#functionality/airpianoserver/website" class="level2"><span class="tocNumber">1.8&nbsp; </span>AirPiano Server/Website</a><br>
    <a href="#documentation" class="level1"><span class="tocNumber">2&nbsp; </span>Documentation</a><br>
    &nbsp;&nbsp;<a href="#documentation/fullsystemdiagram" class="level2"><span class="tocNumber">2.1&nbsp; </span>Full System Diagram</a><br>
    &nbsp;&nbsp;<a href="#documentation/hardwarelayout" class="level2"><span class="tocNumber">2.2&nbsp; </span>Hardware Layout</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#documentation/hardwarelayout/hardwarediagram" class="level3"><span class="tocNumber">2.2.1&nbsp; </span>Hardware Diagram</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#documentation/hardwarelayout/3-dprintedlaserholders" class="level3"><span class="tocNumber">2.2.2&nbsp; </span>3-D Printed Laser Holders</a><br>
    &nbsp;&nbsp;<a href="#documentation/partslist" class="level2"><span class="tocNumber">2.3&nbsp; </span>Parts List</a><br>
    &nbsp;&nbsp;<a href="#documentation/designchallengesanddecisions" class="level2"><span class="tocNumber">2.4&nbsp; </span>Design Challenges and Decisions</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#documentation/designchallengesanddecisions/audioconversion" class="level3"><span class="tocNumber">2.4.1&nbsp; </span>Audio Conversion</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#documentation/designchallengesanddecisions/multiplenotesandpowersupply" class="level3"><span class="tocNumber">2.4.2&nbsp; </span>Multiple Notes and Power Supply</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#documentation/designchallengesanddecisions/quantityofdigitalpins" class="level3"><span class="tocNumber">2.4.3&nbsp; </span>Quantity of Digital Pins</a><br>
    <a href="#detailedcodelayout" class="level1"><span class="tocNumber">3&nbsp; </span>Detailed Code Layout</a><br>
    &nbsp;&nbsp;<a href="#detailedcodelayout/esp32side" class="level2"><span class="tocNumber">3.1&nbsp; </span>ESP32 Side</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/esp32side/hardware_setup/" class="level3"><span class="tocNumber">3.1.1&nbsp; </span>hardware_setup/</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/esp32side/airpianoesp32.ino" class="level3"><span class="tocNumber">3.1.2&nbsp; </span>AirPianoESP32.ino</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/esp32side/pins.h" class="level3"><span class="tocNumber">3.1.3&nbsp; </span>pins.h</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/esp32side/ui_constants.h" class="level3"><span class="tocNumber">3.1.4&nbsp; </span>ui_constants.h</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/esp32side/http_constants.h" class="level3"><span class="tocNumber">3.1.5&nbsp; </span>http_constants.h</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/esp32side/google-speech(.h/.cpp)" class="level3"><span class="tocNumber">3.1.6&nbsp; </span>google-speech(.h/.cpp)</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/esp32side/support_functions(.h/.cpp)" class="level3"><span class="tocNumber">3.1.7&nbsp; </span>support_functions(.h/.cpp)</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/esp32side/classy-button.h" class="level3"><span class="tocNumber">3.1.8&nbsp; </span>classy-button.h</a><br>
    &nbsp;&nbsp;<a href="#detailedcodelayout/serverside" class="level2"><span class="tocNumber">3.2&nbsp; </span>Server Side</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/serverside/tests/" class="level3"><span class="tocNumber">3.2.1&nbsp; </span>tests/</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/serverside/website/data/" class="level3"><span class="tocNumber">3.2.2&nbsp; </span>website/data/</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/serverside/website/static/" class="level3"><span class="tocNumber">3.2.3&nbsp; </span>website/static/</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/serverside/website/templates/" class="level3"><span class="tocNumber">3.2.4&nbsp; </span>website/templates/</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/serverside/website/views/" class="level3"><span class="tocNumber">3.2.5&nbsp; </span>website/views/</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/serverside/website/utilities/" class="level3"><span class="tocNumber">3.2.6&nbsp; </span>website/utilities/</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/serverside/notification.py" class="level3"><span class="tocNumber">3.2.7&nbsp; </span>notification.py</a><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="#detailedcodelayout/serverside/databaseanddbcontrol.py" class="level3"><span class="tocNumber">3.2.8&nbsp; </span>database and dbcontrol.py</a><br>
    <a href="#milestonecontributions" class="level1"><span class="tocNumber">4&nbsp; </span>Milestone Contributions</a><br>
    &nbsp;&nbsp;<a href="#milestonecontributions/freeplayfunctionality" class="level2"><span class="tocNumber">4.1&nbsp; </span>Free Play Functionality</a><br>
    &nbsp;&nbsp;<a href="#milestonecontributions/secondarymodesfunctionality" class="level2"><span class="tocNumber">4.2&nbsp; </span>Secondary Modes Functionality</a><br>
    &nbsp;&nbsp;<a href="#milestonecontributions/esp32ui/hardwarefunctionality" class="level2"><span class="tocNumber">4.3&nbsp; </span>ESP32 UI/Hardware Functionality</a><br>
    &nbsp;&nbsp;<a href="#milestonecontributions/serverwebsitefunctionality" class="level2"><span class="tocNumber">4.4&nbsp; </span>Server Website Functionality</a><br>
    <a href="#teammembers" class="level1"><span class="tocNumber">5&nbsp; </span>Team Members</a><br>
    </p></div><a class="target" name="functionality">&nbsp;</a><a class="target" name="functionality">&nbsp;</a><a class="target" name="toc1">&nbsp;</a><h1>Functionality</h1>
    <p>
    
    The systems starts in freeplay mode and displays a nice options menu interface to allow the user to change the mode if they want.
    We have implemented the following modes: Freeplay Mode, Recording Mode, Song Mode, and Sequencer Mode.
    </p>
    <!-- </p><p>
    
    </p><center><div class="image" style=""><a href="./data/state_machine.png" target="_blank"><img class="markdeep" src="./data/state_machine.png"></a><center><span class="imagecaption">FSM for the ESP32</span></center></div></center>
    
    <p></p>
    <a class="target" name="idlemode">&nbsp;</a><a class="target" name="functionality/idlemode">&nbsp;</a><a class="target" name="toc1.1">&nbsp;</a><h2>IDLE Mode</h2>
    <p>
    
    Our system’s default state will be this “idle” state where nothing happens if you walk up the stairs/through the pathway. 
    We added this just in case people want to turn off the system at night without unplugging the ESP32.
    
    </p>
    <a class="target" name="freeplaymode">&nbsp;</a><a class="target" name="functionality/freeplaymode">&nbsp;</a><a class="target" name="toc1.2">&nbsp;</a><h2>Freeplay Mode</h2>
    <p>
    
    The “free play” mode of the system will detect the user’s steps and as a result, a corresponding frequency will be played on the buzzer. 
    We define a “step” as every time the laser beam is broken when a foot is placed between the laser and the phototransistor.  We integrated an LED strip to light up with every step that is taken on the stairs.  In this mode, only the most recently broken laser beam's frequency and light will play.
    
    </p>
    <a class="target" name="multinotemode">&nbsp;</a><a class="target" name="functionality/multinotemode">&nbsp;</a><a class="target" name="toc1.3">&nbsp;</a><h2>Multinote Mode</h2>
    <p>
    
    Multinote is able to play multiple notes at once, using 8 distinct buzzers each dedicated to one of the laser/phototransistor pairs on the stairs. Playing notes is done in a similar manner to the other modes, but its capabilities are extended by using arrays.  The array index tracks the stair's corresponding buzzer, phototransistor,  light strip, and the previous note played on this stair to avoid continuously playing the note and flashing the LEDS.
    
    </p><p>
    
    We were unable to integrate this mode with the rest of the system due to power issues.  As a result, this mode is a standalone capability not integrated with AirPiano's freeplay, recording, and sequencer modes.  
    
    </p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/cYSi2LqmWaQ" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Multinote Separate Functionality</span></center></div></center>
    
    <p></p>
    <a class="target" name="recordingmode">&nbsp;</a><a class="target" name="functionality/recordingmode">&nbsp;</a><a class="target" name="toc1.4">&nbsp;</a><h2>Recording Mode</h2>
    <p>
    
    </p><center><div class="image" style=""><a href="./data/recording_mode.png" target="_blank"><img class="markdeep" src="./data/recording_mode.png"></a><center><span class="imagecaption">Recording Mode States</span></center></div></center>
    
    <p></p><p>
    
    The “recording” state will allow a user to record their musical steps and send that to a database where their friends can see the music they made and play it back on the site. 
    They first enter the “pre-recording” state where the user reads a description of the mode and must push a button to proceed. Then their sequence of steps and their respective notes will be recorded. The user is able to end the recording when they are satisfied with what they have or the recording will automatically end when the recording buffer is full.
    They will then be asked if the are sure they want to send that song to the server. If not, they leave the recording mode. If they do, then they give it a name with the Google Speech API and the second core is utilized to send the song information via HTTP POST request. The user has the chance to rename the song if the API transcribes the incorrect words. Then, by using the second core the user can immediately get back to playing in Free Play without waiting for the ESP32 to POST the recording to the server.
    
    </p><p>
    
    The second core is used to POST recordings by keeping track of a global variable. The recording mode once it has finished recording and naming the song sets this variable to a value of <code>1</code>. Subsequently, the second core waits on this value to be <code>1</code>, and if it is will post the notes recorded and the name of the song. It will then set the variable back to <code>0</code> once it is done. To protect against the possibility of the user entering the Recording Mode again before the second core has recorded the song, there is a check at the start of the Recording Mode to wait until the variable is set to <code>0</code>, signaling that the second core is ready to POST another recording.
    
    </p>
    <a class="target" name="songmode">&nbsp;</a><a class="target" name="functionality/songmode">&nbsp;</a><a class="target" name="toc1.5">&nbsp;</a><h2>Song Mode</h2>
    <p>
    
    The song mode allows the user to play a recorded song that was saved to the database. 
    
    </p><p>
    
    The first step is performing a GET request to retrieve the last 5 IDs + song names posted to the server.  The IDs + names are then printed to the tft screen, and the user selects one of the names with the button.  We then perform a second GET request using the ID of the song.  This pulls down the arrays for frequencies and times that each freqency should play for.  We then use these arrays to play the notes on the buzzers, and get the corresponding LEDs to light up.
    
    </p>
    <a class="target" name="seqeuncermode">&nbsp;</a><a class="target" name="functionality/seqeuncermode">&nbsp;</a><a class="target" name="toc1.6">&nbsp;</a><h2>Seqeuncer Mode</h2>
    <p>
    
    The sequencer mode allows the user to play along with themselves by playing back the notes in a loop. 
    There is a set delay interval between when the user plays a note, and when the additional copy of the note is played again. 
    To ensure that there does not end up being a constant amount of notes played such that it sounds bad, the multiple repetitions 
    of any note was limited to a constant number. 
    Further experimentation on what the exact delay length and the number of repetitions needed to provide the user the ability to improvise with themselves would be helpful.
    
    </p><p>
    
    To record when the notes are played in the loop, the loop length was split into distinct buckets in an array. Currently, there are <code>500</code> buckets that a note could be put within. The loop length that was decided to be 2 seconds based on a typical 120 beats per minute giving half a second per quarter note. As there are typically 4 notes to a bar, that gives a bar length of two seconds. Therefore, these 500 buckets evenly divide the space of the two seconds. This gives us enough time resolution with when notes are played by a user and when they actually repeat without sacrificing performance or storage space. 
    
    </p><p>
    
    Along with the array that tracks when frequencies are played, there is also an array that keeps track of how many times the note can repeat before stopping. This is to solve the issue where as a user adds more and more notes to the loop, there is no good current way to remove notes. So currently, all notes will play 7 times before disappearing, allowing room for the user to continue playing new rhythms and notes. An alternative to this solution could have been to dedicate one of the lasers to playing silence, but considering this would have been different from all of the other modes, it would have been unintuitive.
    
    </p>
    <a class="target" name="notificationled">&nbsp;</a><a class="target" name="functionality/notificationled">&nbsp;</a><a class="target" name="toc1.7">&nbsp;</a><h2>Notification LED</h2>
    <p>
    
    A small function runs on the second core periodically and pings the server with a GET request. This request queries to determine whether new songs have been posted to the server from a different AirPiano from itself in the time period since its last ping. Depending on the number of new songs, the LED will blink green that many times to notify the user to either check the website to see the new songs or enter song mode and play them on their ESP32. This notification provides the user extra ease of use of the system and encourages exploring the songs created by other people.
    
    </p><p>
    
    To ensure that the user will actually notice the LED, its normal state shines red so that it is a stark contrast when the green appears. If only a single song has been posted since the last query, it will linger on the green color for an longer amount of time compared to usual so that the user has a better chance of catching the notification.
    
    </p><p>
    
    The Baker side of the team did not have notification LEDs flashing in their implementation because they did not have any more pins for more LEDs.  However, it is still a fully function implementation if there were more pins available.
    
    </p>
    <a class="target" name="airpianoserver/website">&nbsp;</a><a class="target" name="functionality/airpianoserver/website">&nbsp;</a><a class="target" name="toc1.8">&nbsp;</a><h2>AirPiano Server/Website</h2>
    <p>
    
    We were able to utilize the server for GET/POST requests coming from the esp32 in various states. 
    We wrote various scripts that would allow us to perform tasks like POSTing song data from the esp32, retrieving recent entries, and retreiving the notes to a specfic song.
    Apart from this, we also made a website to accompany our project that featured 2 main pages:
    
    </p><p>
    
    </p><ul>
    <li class="asterisk">Home Page - gives user a project overview and allows them to search for a specific song
    </li>
    <li class="asterisk">Database Page - allows user to see the most recent entries posted to the server and play the songs
    </li>
    <li class="asterisk">Song Page - a potential page that would allow for future scaling of the project, where users could one day place comments for a specific song
    </li>
    <li class="asterisk">Meet the Team Page - team member profiles</li></ul>
     -->
    <p></p>
    <a class="target" name="documentation">&nbsp;</a><a class="target" name="documentation">&nbsp;</a><a class="target" name="toc2">&nbsp;</a><h1>Documentation</h1>
    
    <!-- <a class="target" name="fullsystemdiagram">&nbsp;</a><a class="target" name="documentation/fullsystemdiagram">&nbsp;</a><a class="target" name="toc2.1">&nbsp;</a><h2>Full System Diagram</h2>
    <p>
    
    </p><center><div class="image" style=""><a href="./data/full_system_block_diagram.png" target="_blank"><img class="markdeep" src="./data/full_system_block_diagram.png"></a><center><span class="imagecaption">Full System Block Diagram</span></center></div></center>
    
    <p></p>
    <a class="target" name="hardwarelayout">&nbsp;</a><a class="target" name="documentation/hardwarelayout">&nbsp;</a><a class="target" name="toc2.2">&nbsp;</a><h2>Hardware Layout</h2>
    
    <a class="target" name="hardwarediagram">&nbsp;</a><a class="target" name="documentation/hardwarelayout/hardwarediagram">&nbsp;</a><a class="target" name="toc2.2.1">&nbsp;</a><h3>Hardware Diagram</h3>
    <p>
    
    
    </p><center><div class="image" style=""><a href="./data/ptwired.jpg" target="_blank"><img class="markdeep" src="./data/ptwired.jpg" |="" width="40%"></a><center><span class="imagecaption">Wiring for 1 PT</span></center></div></center>
    
    <p></p><p>
    
    Here you see the wiring for 1 of the phototransistors (PTs). The red is positive, gray is ground, and the blue wire is the signal wire going directly back to the esp32.
    We have wired up 8 phototransistors in parallel, placing the esp32 in the middle of them. On the other side, there are 3.3V lasers hooked up in parallel to a battery all shooting directly into the PTs.
    A sketch of a diagram including not only the phototransistors but also the LCD, button, microphone, and buzzer/MOSFETs is shown below, as well as the pins used. (all eight buzzers/MOSFETs and phototransistors are not included for simplicity but are wired in parallel)
    
    </p><p>
    
    </p><center><div class="image" style=""><a href="./data/hardware_diagram.jpg" target="_blank"><img class="markdeep" src="./data/hardware_diagram.jpg" |="" width="100%"></a><center><span class="imagecaption">Sketch Diagram of Overall Hardware with Table of Pins</span></center></div></center>
    
    <p></p>
    <a class="target" name="3-dprintedlaserholders">&nbsp;</a><a class="target" name="documentation/hardwarelayout/3-dprintedlaserholders">&nbsp;</a><a class="target" name="toc2.2.2">&nbsp;</a><h3>3-D Printed Laser Holders</h3>
    <p>
    
    
    The lasers we had were very fragile and were susceptible to shifting slightly.  Because our phototransistors were sensitive to the exact positioning of the laser, we decided to 3-D print holders that would hold the lasers into position.  We printed the mounts so that the head of the laser would fit into the nook of the mount.  We also 3D cut out a piece of the mount so that the wires of the laser could be threaded through and held in place, making our wiring a lot cleaner and also making the connection between the laser wire and the regular wire more stable.  All of this made it much easier for us to set up the AirPiano before playing - all we had to do was to slightly adjust the positioning of the phototransistors.
    
    </p><p>
    
    </p><p align="middle">
      <img src="./data/3D_diagram.jpg" width="300">
      <img src="./data/3d_mount.jpg" width="300"> 
    </p>
    
    <p></p>
    <a class="target" name="partslist">&nbsp;</a><a class="target" name="documentation/partslist">&nbsp;</a><a class="target" name="toc2.3">&nbsp;</a><h2>Parts List</h2>
    <p>
    
    <a href="https://www.amazon.com/HiLetgo-10pcs-650nm-Diode-Laser/dp/B071FT9HSV/ref=sr_1_3?dchild=1&amp;keywords=laser+diode&amp;qid=1618513435&amp;s=industrial&amp;sr=1-3">Laser Diodes</a>
    
    </p><p>
    
    </p><ul>
    <li class="asterisk">Total price: $17.97
    </li>
    <li class="asterisk">Use case: Used to point to our phototransistors. When this connection was broken by having a foot placed in front, we would be able to detect on the PT side.</li></ul>
    
    <p></p><p>
    
    <a href="https://www.adafruit.com/product/2831">Phototransistor</a>
    
    </p><p>
    
    </p><ul>
    <li class="asterisk">Total price: $28.50
    </li>
    <li class="asterisk">Use case: These were the transducers that actually detected whether or not the laser was being pointed directly at it.</li></ul>
    
    <p></p><p>
    
    <a href="https://www.amazon.com/DaFuRui-tie-Points-Solderless-Breadboard-Compatible/dp/B07KGQ7H8B?th=1">Small Breadboards</a>
    
    </p><p>
    
    </p><ul>
    <li class="asterisk">Total price: $54.95
    </li>
    <li class="asterisk">Use case: Used to wire the PTS and the potentiometers that allowed us to the read the signal coming from the PT.</li></ul>
    
    <p></p><p>
    
    <a href="https://www.amazon.com/VELCRO-Brand-Industrial-Fasteners-Professional/dp/B00114LOMM/ref=sr_1_5?dchild=1&amp;keywords=velcro%2Bstrips&amp;qid=1618514379&amp;sr=8-5&amp;th=1">Velcro Strips</a>
    
    </p><p>
    
    </p><ul>
    <li class="asterisk">Total price: $14.84
    </li>
    <li class="asterisk">Use case: To be able to adjust the PTS and lasers since being off by just a little bit caused the PT to read as if the laser beam was broken.</li></ul>
    
    <p></p>
    <a class="target" name="designchallengesanddecisions">&nbsp;</a><a class="target" name="documentation/designchallengesanddecisions">&nbsp;</a><a class="target" name="toc2.4">&nbsp;</a><h2>Design Challenges and Decisions</h2>
    <p>
    
    Some challenges in this project included:
    
    </p><p>
    
    </p><ul>
    <li class="asterisk">figuring out how to store the musical notes and convert them into a mp3 or wav file
    </li>
    <li class="asterisk">finding solutions to power supply issues with the ESP trying to power so many things at once
    </li>
    <li class="asterisk">working with a finitie quantity of digital pins on the ESP32</li></ul>
    
    <p></p>
    <a class="target" name="audioconversion">&nbsp;</a><a class="target" name="documentation/designchallengesanddecisions/audioconversion">&nbsp;</a><a class="target" name="toc2.4.1">&nbsp;</a><h3>Audio Conversion</h3>
    <p>
    
    We were able to accomplish this by using scipy.io.wavfile to convert our polished audio array into a wav file to store on the server. The main goal here was to create a function <em class="asterisk">convert_to_wav</em> that takes in a list of note frequencies (in kHz) and end_times list, representing the timestamp to stop playing a note, in milliseconds. It also takes in a path and filename to save the audio generated from it. For example: <br>
    <em class="asterisk">convert_to_wav</em>([440, 554, 657], [250, 750, 1000], ‘airpianoUI/data/audio/’, ‘name1.wav’) will store a wav file at ‘airpianoUI/data/audio/name1.wav’ that plays 440 kHz up until the 250 milliseconds, 554 kHz up until the 750 millisecond mark (so for half a second), and 657 kHz up until the end of the second at 1000 milliseconds.
    Here is the function, abbreviated for space:
    </p><pre class="listing tilde"><code><span class="line"></span>def convert_to_wav(freqs:list, <span class="hljs-keyword">times</span>:list, filename=<span class="hljs-string">"test.wav"</span>, path=<span class="hljs-string">"./"</span>):
    <span class="line"></span>    <span class="hljs-comment">#* converts the millis times to seconds!</span>
    <span class="line"></span>    <span class="hljs-keyword">times</span> = [<span class="hljs-keyword">int</span>(<span class="hljs-keyword">time</span>)/<span class="hljs-number">1000</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">time</span> in <span class="hljs-keyword">times</span>] 
    <span class="line"></span>
    <span class="line"></span>    sample_rate = <span class="hljs-number">44100</span>
    <span class="line"></span>    notes = []
    <span class="line"></span>
    <span class="line"></span>    past_time = <span class="hljs-number">0</span> 
    <span class="line"></span>    <span class="hljs-keyword">for</span> freq, <span class="hljs-keyword">time</span> in zip(freqs, <span class="hljs-keyword">times</span>):
    <span class="line"></span>        duration = <span class="hljs-keyword">time</span> - past_time
    <span class="line"></span>
    <span class="line"></span>        t = np.linspace(<span class="hljs-number">0</span>, duration, <span class="hljs-keyword">int</span>(duration * sample_rate), True)
    <span class="line"></span>        note = np.sin(freq * t * <span class="hljs-number">2</span> * np.pi)
    <span class="line"></span>
    <span class="line"></span>        notes.append(note)
    <span class="line"></span>        past_time = <span class="hljs-keyword">time</span>
    <span class="line"></span>
    <span class="line"></span>    <span class="hljs-comment"># concatenate notes</span>
    <span class="line"></span>    audio = np.hstack(notes)
    <span class="line"></span>    <span class="hljs-comment"># normalize to 16-bit range</span>
    <span class="line"></span>    audio *= <span class="hljs-number">32767</span> / np.max(np.abs(audio))
    <span class="line"></span>    <span class="hljs-comment"># convert to 16-bit data</span>
    <span class="line"></span>    audio = audio.astype(np.int16)
    <span class="line"></span>
    <span class="line"></span>    <span class="hljs-comment"># save it as wav file</span>
    <span class="line"></span>    wavf.write(path+filename, sample_rate, audio)
    <span class="line"></span>
    <span class="line"></span>    <span class="hljs-keyword">return</span> path+filename</code></pre>
    <a class="target" name="multiplenotesandpowersupply">&nbsp;</a><a class="target" name="documentation/designchallengesanddecisions/multiplenotesandpowersupply">&nbsp;</a><a class="target" name="toc2.4.2">&nbsp;</a><h3>Multiple Notes and Power Supply</h3>
    <p>
    
    An issue we ran into when trying to integrate the multiple_notes code with our main ESP32 code was that due to so many things being hooked up onto one ESP (8 phototransistors, 8 buzzers/MOSFET channels, microphone, LCD, button, LEDs) often there wasn't enough power supply to successfully power up the LCD screen. Our solution was that we would break this up into two separate code bodies and have a separate code specifically for the multiple notes. We could have potentially fixed this power supply problem by hooking up less buzzers (instead of using a buzzer for each stair totaling to eight — perhaps we could have done just three or four buzzers since usually an individual wouldn't play more than four notes at once), but in some ways our solution in separating the code could be justified. Being able to play multiple notes works better in situations where there is high traffic along the stairs and people are just walking down/up the stairs (which is the usual case in the real world), where as our main ESP32 code is better suited for when an individual specifically wants to stop and play with the different modes of the Air Piano by him/herself. Thus, we decided it might be best to separate the mutliple_notes code from the main ESP32 code.
    
    </p>
    <a class="target" name="quantityofdigitalpins">&nbsp;</a><a class="target" name="documentation/designchallengesanddecisions/quantityofdigitalpins">&nbsp;</a><a class="target" name="toc2.4.3">&nbsp;</a><h3>Quantity of Digital Pins</h3>
    <p>
    
    Although a smaller issue with an easy fix, we also ran into an issue where we did not have enough digital pins to hook the phototransistors up to on the ESP. Our solution was that for one of the stairs we would do an analogRead instead and just set a threshold value for that, where the other stairs were being “digitalRead-ed” (which is why one of the phototransistors is hooked to A3).
    
    </p> -->
    <a class="target" name="detailedcodelayout">&nbsp;</a><a class="target" name="detailedcodelayout">&nbsp;</a><a class="target" name="toc3">&nbsp;</a><h1>Detailed Code Layout</h1>
    
    <!-- <a class="target" name="esp32side">&nbsp;</a><a class="target" name="detailedcodelayout/esp32side">&nbsp;</a><a class="target" name="toc3.1">&nbsp;</a><h2>ESP32 Side</h2>
    <p>
    
    This figure shows some of the most important parts of our code run on the ESP32:
    <svg class="diagram" xmlns="http://www.w3.org/2000/svg" version="1.1" height="400" width="456" style="margin:0 auto 0 auto;"><g transform="translate(8,16 )">
    <path d="M 8,32 L 8,352 " style="fill:none;"></path>
    <path d="M 56,48 L 56,352 " style="fill:none;"></path>
    <path d="M 80,80 L 80,128 " style="fill:none;"></path>
    <path d="M 272,32 L 272,352 " style="fill:none;"></path>
    <path d="M 24,16 L 256,16 " style="fill:none;"></path>
    <path d="M 56,64 L 72,64 " style="fill:none;"></path>
    <path d="M 80,96 L 96,96 " style="fill:none;"></path>
    <path d="M 80,112 L 96,112 " style="fill:none;"></path>
    <path d="M 80,128 L 96,128 " style="fill:none;"></path>
    <path d="M 56,160 L 72,160 " style="fill:none;"></path>
    <path d="M 56,192 L 72,192 " style="fill:none;"></path>
    <path d="M 56,208 L 72,208 " style="fill:none;"></path>
    <path d="M 56,224 L 72,224 " style="fill:none;"></path>
    <path d="M 56,256 L 72,256 " style="fill:none;"></path>
    <path d="M 56,272 L 72,272 " style="fill:none;"></path>
    <path d="M 56,304 L 72,304 " style="fill:none;"></path>
    <path d="M 56,320 L 72,320 " style="fill:none;"></path>
    <path d="M 56,352 L 72,352 " style="fill:none;"></path>
    <path d="M 24,368 L 256,368 " style="fill:none;"></path>
    <path d="M 24,16 C 7.199999999999999,16 8,32 8,32 " style="fill:none;"></path>
    <path d="M 256,16 C 272.8,16 272,32 272,32 " style="fill:none;"></path>
    <path d="M 24,368 C 7.199999999999999,368 8,352 8,352 " style="fill:none;"></path>
    <path d="M 256,368 C 272.8,368 272,352 272,352 " style="fill:none;"></path>
    <g transform="translate(0,0)"><text text-anchor="middle" x="96" y="4">S</text><text text-anchor="middle" x="104" y="4">e</text><text text-anchor="middle" x="112" y="4">r</text><text text-anchor="middle" x="120" y="4">v</text><text text-anchor="middle" x="128" y="4">e</text><text text-anchor="middle" x="136" y="4">r</text><text text-anchor="middle" x="144" y="4">-</text><text text-anchor="middle" x="152" y="4">s</text><text text-anchor="middle" x="160" y="4">i</text><text text-anchor="middle" x="168" y="4">d</text><text text-anchor="middle" x="176" y="4">e</text><text text-anchor="middle" x="56" y="36">/</text><text text-anchor="middle" x="80" y="68">h</text><text text-anchor="middle" x="88" y="68">a</text><text text-anchor="middle" x="96" y="68">r</text><text text-anchor="middle" x="104" y="68">d</text><text text-anchor="middle" x="112" y="68">w</text><text text-anchor="middle" x="120" y="68">a</text><text text-anchor="middle" x="128" y="68">r</text><text text-anchor="middle" x="136" y="68">e</text><text text-anchor="middle" x="144" y="68">_</text><text text-anchor="middle" x="152" y="68">s</text><text text-anchor="middle" x="160" y="68">e</text><text text-anchor="middle" x="168" y="68">t</text><text text-anchor="middle" x="176" y="68">u</text><text text-anchor="middle" x="184" y="68">p</text><text text-anchor="middle" x="192" y="68">/</text><text text-anchor="middle" x="112" y="100">f</text><text text-anchor="middle" x="120" y="100">r</text><text text-anchor="middle" x="128" y="100">e</text><text text-anchor="middle" x="136" y="100">q</text><text text-anchor="middle" x="144" y="100">u</text><text text-anchor="middle" x="152" y="100">e</text><text text-anchor="middle" x="160" y="100">n</text><text text-anchor="middle" x="168" y="100">c</text><text text-anchor="middle" x="176" y="100">y</text><text text-anchor="middle" x="184" y="100">_</text><text text-anchor="middle" x="192" y="100">c</text><text text-anchor="middle" x="200" y="100">h</text><text text-anchor="middle" x="208" y="100">a</text><text text-anchor="middle" x="216" y="100">n</text><text text-anchor="middle" x="224" y="100">g</text><text text-anchor="middle" x="232" y="100">e</text><text text-anchor="middle" x="240" y="100">.</text><text text-anchor="middle" x="248" y="100">i</text><text text-anchor="middle" x="256" y="100">n</text><text text-anchor="middle" x="264" y="100">o</text><text text-anchor="middle" x="112" y="116">s</text><text text-anchor="middle" x="120" y="116">t</text><text text-anchor="middle" x="128" y="116">a</text><text text-anchor="middle" x="136" y="116">i</text><text text-anchor="middle" x="144" y="116">r</text><text text-anchor="middle" x="152" y="116">_</text><text text-anchor="middle" x="160" y="116">l</text><text text-anchor="middle" x="168" y="116">a</text><text text-anchor="middle" x="176" y="116">s</text><text text-anchor="middle" x="184" y="116">e</text><text text-anchor="middle" x="192" y="116">r</text><text text-anchor="middle" x="200" y="116">.</text><text text-anchor="middle" x="208" y="116">i</text><text text-anchor="middle" x="216" y="116">n</text><text text-anchor="middle" x="224" y="116">o</text><text text-anchor="middle" x="112" y="132">t</text><text text-anchor="middle" x="120" y="132">r</text><text text-anchor="middle" x="128" y="132">a</text><text text-anchor="middle" x="136" y="132">c</text><text text-anchor="middle" x="144" y="132">k</text><text text-anchor="middle" x="152" y="132">_</text><text text-anchor="middle" x="160" y="132">s</text><text text-anchor="middle" x="168" y="132">t</text><text text-anchor="middle" x="176" y="132">a</text><text text-anchor="middle" x="184" y="132">i</text><text text-anchor="middle" x="192" y="132">r</text><text text-anchor="middle" x="200" y="132">s</text><text text-anchor="middle" x="208" y="132">.</text><text text-anchor="middle" x="216" y="132">i</text><text text-anchor="middle" x="224" y="132">n</text><text text-anchor="middle" x="232" y="132">o</text><text text-anchor="middle" x="88" y="164">A</text><text text-anchor="middle" x="96" y="164">i</text><text text-anchor="middle" x="104" y="164">r</text><text text-anchor="middle" x="112" y="164">P</text><text text-anchor="middle" x="120" y="164">i</text><text text-anchor="middle" x="128" y="164">a</text><text text-anchor="middle" x="136" y="164">n</text><text text-anchor="middle" x="144" y="164">o</text><text text-anchor="middle" x="152" y="164">E</text><text text-anchor="middle" x="160" y="164">S</text><text text-anchor="middle" x="168" y="164">P</text><text text-anchor="middle" x="176" y="164">3</text><text text-anchor="middle" x="184" y="164">2</text><text text-anchor="middle" x="192" y="164">.</text><text text-anchor="middle" x="200" y="164">i</text><text text-anchor="middle" x="208" y="164">n</text><text text-anchor="middle" x="216" y="164">o</text><text text-anchor="middle" x="88" y="196">p</text><text text-anchor="middle" x="96" y="196">i</text><text text-anchor="middle" x="104" y="196">n</text><text text-anchor="middle" x="112" y="196">s</text><text text-anchor="middle" x="120" y="196">.</text><text text-anchor="middle" x="128" y="196">h</text><text text-anchor="middle" x="88" y="212">u</text><text text-anchor="middle" x="96" y="212">i</text><text text-anchor="middle" x="104" y="212">_</text><text text-anchor="middle" x="112" y="212">c</text><text text-anchor="middle" x="120" y="212">o</text><text text-anchor="middle" x="128" y="212">n</text><text text-anchor="middle" x="136" y="212">s</text><text text-anchor="middle" x="144" y="212">t</text><text text-anchor="middle" x="152" y="212">a</text><text text-anchor="middle" x="160" y="212">n</text><text text-anchor="middle" x="168" y="212">t</text><text text-anchor="middle" x="176" y="212">s</text><text text-anchor="middle" x="184" y="212">.</text><text text-anchor="middle" x="192" y="212">h</text><text text-anchor="middle" x="88" y="228">h</text><text text-anchor="middle" x="96" y="228">t</text><text text-anchor="middle" x="104" y="228">t</text><text text-anchor="middle" x="112" y="228">p</text><text text-anchor="middle" x="120" y="228">_</text><text text-anchor="middle" x="128" y="228">c</text><text text-anchor="middle" x="136" y="228">o</text><text text-anchor="middle" x="144" y="228">n</text><text text-anchor="middle" x="152" y="228">s</text><text text-anchor="middle" x="160" y="228">t</text><text text-anchor="middle" x="168" y="228">a</text><text text-anchor="middle" x="176" y="228">n</text><text text-anchor="middle" x="184" y="228">t</text><text text-anchor="middle" x="192" y="228">s</text><text text-anchor="middle" x="200" y="228">.</text><text text-anchor="middle" x="208" y="228">h</text><text text-anchor="middle" x="88" y="260">g</text><text text-anchor="middle" x="96" y="260">o</text><text text-anchor="middle" x="104" y="260">o</text><text text-anchor="middle" x="112" y="260">g</text><text text-anchor="middle" x="120" y="260">l</text><text text-anchor="middle" x="128" y="260">e</text><text text-anchor="middle" x="136" y="260">-</text><text text-anchor="middle" x="144" y="260">s</text><text text-anchor="middle" x="152" y="260">p</text><text text-anchor="middle" x="160" y="260">e</text><text text-anchor="middle" x="168" y="260">e</text><text text-anchor="middle" x="176" y="260">c</text><text text-anchor="middle" x="184" y="260">h</text><text text-anchor="middle" x="192" y="260">.</text><text text-anchor="middle" x="200" y="260">h</text><text text-anchor="middle" x="88" y="276">g</text><text text-anchor="middle" x="96" y="276">o</text><text text-anchor="middle" x="104" y="276">o</text><text text-anchor="middle" x="112" y="276">g</text><text text-anchor="middle" x="120" y="276">l</text><text text-anchor="middle" x="128" y="276">e</text><text text-anchor="middle" x="136" y="276">-</text><text text-anchor="middle" x="144" y="276">s</text><text text-anchor="middle" x="152" y="276">p</text><text text-anchor="middle" x="160" y="276">e</text><text text-anchor="middle" x="168" y="276">e</text><text text-anchor="middle" x="176" y="276">c</text><text text-anchor="middle" x="184" y="276">h</text><text text-anchor="middle" x="192" y="276">.</text><text text-anchor="middle" x="200" y="276">c</text><text text-anchor="middle" x="208" y="276">p</text><text text-anchor="middle" x="216" y="276">p</text><text text-anchor="middle" x="88" y="308">s</text><text text-anchor="middle" x="96" y="308">u</text><text text-anchor="middle" x="104" y="308">p</text><text text-anchor="middle" x="112" y="308">p</text><text text-anchor="middle" x="120" y="308">o</text><text text-anchor="middle" x="128" y="308">r</text><text text-anchor="middle" x="136" y="308">t</text><text text-anchor="middle" x="144" y="308">_</text><text text-anchor="middle" x="152" y="308">f</text><text text-anchor="middle" x="160" y="308">u</text><text text-anchor="middle" x="168" y="308">n</text><text text-anchor="middle" x="176" y="308">c</text><text text-anchor="middle" x="184" y="308">t</text><text text-anchor="middle" x="192" y="308">i</text><text text-anchor="middle" x="200" y="308">o</text><text text-anchor="middle" x="208" y="308">n</text><text text-anchor="middle" x="216" y="308">s</text><text text-anchor="middle" x="224" y="308">.</text><text text-anchor="middle" x="232" y="308">h</text><text text-anchor="middle" x="88" y="324">s</text><text text-anchor="middle" x="96" y="324">u</text><text text-anchor="middle" x="104" y="324">p</text><text text-anchor="middle" x="112" y="324">p</text><text text-anchor="middle" x="120" y="324">o</text><text text-anchor="middle" x="128" y="324">r</text><text text-anchor="middle" x="136" y="324">t</text><text text-anchor="middle" x="144" y="324">_</text><text text-anchor="middle" x="152" y="324">f</text><text text-anchor="middle" x="160" y="324">u</text><text text-anchor="middle" x="168" y="324">n</text><text text-anchor="middle" x="176" y="324">c</text><text text-anchor="middle" x="184" y="324">t</text><text text-anchor="middle" x="192" y="324">i</text><text text-anchor="middle" x="200" y="324">o</text><text text-anchor="middle" x="208" y="324">n</text><text text-anchor="middle" x="216" y="324">s</text><text text-anchor="middle" x="224" y="324">.</text><text text-anchor="middle" x="232" y="324">c</text><text text-anchor="middle" x="240" y="324">p</text><text text-anchor="middle" x="248" y="324">p</text><text text-anchor="middle" x="88" y="356">c</text><text text-anchor="middle" x="96" y="356">l</text><text text-anchor="middle" x="104" y="356">a</text><text text-anchor="middle" x="112" y="356">s</text><text text-anchor="middle" x="120" y="356">s</text><text text-anchor="middle" x="128" y="356">y</text><text text-anchor="middle" x="136" y="356">-</text><text text-anchor="middle" x="144" y="356">b</text><text text-anchor="middle" x="152" y="356">u</text><text text-anchor="middle" x="160" y="356">t</text><text text-anchor="middle" x="168" y="356">t</text><text text-anchor="middle" x="176" y="356">o</text><text text-anchor="middle" x="184" y="356">n</text><text text-anchor="middle" x="192" y="356">.</text><text text-anchor="middle" x="200" y="356">h</text></g></g></svg>
    
    </p>
    <a class="target" name="hardware_setup/">&nbsp;</a><a class="target" name="detailedcodelayout/esp32side/hardware_setup/">&nbsp;</a><a class="target" name="toc3.1.1">&nbsp;</a><h3>hardware_setup/</h3>
    <p>
    
    
    The scripts in this folder were initially used to test out interfacing with the phototransistors and and the lasers in order to play notes. They are the only code here not run on the ESP32 for the final project.
    
    </p>
    <a class="target" name="airpianoesp32.ino">&nbsp;</a><a class="target" name="detailedcodelayout/esp32side/airpianoesp32.ino">&nbsp;</a><a class="target" name="toc3.1.2">&nbsp;</a><h3>AirPianoESP32.ino</h3>
    <p>
    
    
    This is where the main loop and state machine of the system runs. The setup and loop functions are at the end of the file and the function <code>draw_menu</code> is where most helper functions are called from and how state transitions are implemented.
    
    </p>
    <a class="target" name="pins.h">&nbsp;</a><a class="target" name="detailedcodelayout/esp32side/pins.h">&nbsp;</a><a class="target" name="toc3.1.3">&nbsp;</a><h3>pins.h</h3>
    <p>
    
    
    A file containing the pins used for different devices such as the button and phototransistors on each stair. 
    
    </p>
    <a class="target" name="ui_constants.h">&nbsp;</a><a class="target" name="detailedcodelayout/esp32side/ui_constants.h">&nbsp;</a><a class="target" name="toc3.1.4">&nbsp;</a><h3>ui_constants.h</h3>
    <p>
    
    
    This file contains the string constants used when displaying static messages to the user about the current mode and how to interface with the system.
    
    </p>
    <a class="target" name="http_constants.h">&nbsp;</a><a class="target" name="detailedcodelayout/esp32side/http_constants.h">&nbsp;</a><a class="target" name="toc3.1.5">&nbsp;</a><h3>http_constants.h</h3>
    <p>
    
    
    This file contains constants involved with connecting to WiFi and making HTTP requests. It also defines a struct with both the request and response buffers for easier organization.
    
    </p>
    <a class="target" name="google-speech(.h/.cpp)">&nbsp;</a><a class="target" name="detailedcodelayout/esp32side/google-speech(.h/.cpp)">&nbsp;</a><a class="target" name="toc3.1.6">&nbsp;</a><h3>google-speech(.h/.cpp)</h3>
    <p>
    
    
    This file is based off of the Google Speech API lab with minor tweaks to interface with the main body of the code better and give users feedback on the progress in the form of ellipses on the display.
    
    </p>
    <a class="target" name="support_functions(.h/.cpp)">&nbsp;</a><a class="target" name="detailedcodelayout/esp32side/support_functions(.h/.cpp)">&nbsp;</a><a class="target" name="toc3.1.7">&nbsp;</a><h3>support_functions(.h/.cpp)</h3>
    <p>
    
    
    This file provides the functions necessary to send and recieve HTTP requests and responses. The header file was created so that it could be used in both the main file and the google speech file.
    
    </p>
    <a class="target" name="classy-button.h">&nbsp;</a><a class="target" name="detailedcodelayout/esp32side/classy-button.h">&nbsp;</a><a class="target" name="toc3.1.8">&nbsp;</a><h3>classy-button.h</h3>
    <p>
    
    
    The button implementation used that allows us to detect both short and long presses. Taken directly from the exercise without any needed modifications.
    
    </p>
    <a class="target" name="serverside">&nbsp;</a><a class="target" name="detailedcodelayout/serverside">&nbsp;</a><a class="target" name="toc3.2">&nbsp;</a><h2>Server Side</h2>
    <p>
    
    This figure shows some of the most important parts of our server side elements:
    <svg class="diagram" xmlns="http://www.w3.org/2000/svg" version="1.1" height="400" width="456" style="margin:0 auto 0 auto;"><g transform="translate(8,16 )">
    <path d="M 8,32 L 8,352 " style="fill:none;"></path>
    <path d="M 56,48 L 56,352 " style="fill:none;"></path>
    <path d="M 88,112 L 88,288 " style="fill:none;"></path>
    <path d="M 120,144 L 120,176 " style="fill:none;"></path>
    <path d="M 272,32 L 272,352 " style="fill:none;"></path>
    <path d="M 24,16 L 256,16 " style="fill:none;"></path>
    <path d="M 56,64 L 72,64 " style="fill:none;"></path>
    <path d="M 56,96 L 72,96 " style="fill:none;"></path>
    <path d="M 88,128 L 104,128 " style="fill:none;"></path>
    <path d="M 120,160 L 136,160 " style="fill:none;"></path>
    <path d="M 120,176 L 136,176 " style="fill:none;"></path>
    <path d="M 88,208 L 104,208 " style="fill:none;"></path>
    <path d="M 88,224 L 104,224 " style="fill:none;"></path>
    <path d="M 88,240 L 104,240 " style="fill:none;"></path>
    <path d="M 88,256 L 104,256 " style="fill:none;"></path>
    <path d="M 88,272 L 104,272 " style="fill:none;"></path>
    <path d="M 88,288 L 104,288 " style="fill:none;"></path>
    <path d="M 56,320 L 72,320 " style="fill:none;"></path>
    <path d="M 56,336 L 72,336 " style="fill:none;"></path>
    <path d="M 56,352 L 72,352 " style="fill:none;"></path>
    <path d="M 24,368 L 256,368 " style="fill:none;"></path>
    <path d="M 24,16 C 7.199999999999999,16 8,32 8,32 " style="fill:none;"></path>
    <path d="M 256,16 C 272.8,16 272,32 272,32 " style="fill:none;"></path>
    <path d="M 24,368 C 7.199999999999999,368 8,352 8,352 " style="fill:none;"></path>
    <path d="M 256,368 C 272.8,368 272,352 272,352 " style="fill:none;"></path>
    <g transform="translate(0,0)"><text text-anchor="middle" x="96" y="4">S</text><text text-anchor="middle" x="104" y="4">e</text><text text-anchor="middle" x="112" y="4">r</text><text text-anchor="middle" x="120" y="4">v</text><text text-anchor="middle" x="128" y="4">e</text><text text-anchor="middle" x="136" y="4">r</text><text text-anchor="middle" x="144" y="4">-</text><text text-anchor="middle" x="152" y="4">s</text><text text-anchor="middle" x="160" y="4">i</text><text text-anchor="middle" x="168" y="4">d</text><text text-anchor="middle" x="176" y="4">e</text><text text-anchor="middle" x="56" y="36">/</text><text text-anchor="middle" x="88" y="68">t</text><text text-anchor="middle" x="96" y="68">e</text><text text-anchor="middle" x="104" y="68">s</text><text text-anchor="middle" x="112" y="68">t</text><text text-anchor="middle" x="120" y="68">s</text><text text-anchor="middle" x="128" y="68">/</text><text text-anchor="middle" x="88" y="100">w</text><text text-anchor="middle" x="96" y="100">e</text><text text-anchor="middle" x="104" y="100">b</text><text text-anchor="middle" x="112" y="100">s</text><text text-anchor="middle" x="120" y="100">i</text><text text-anchor="middle" x="128" y="100">t</text><text text-anchor="middle" x="136" y="100">e</text><text text-anchor="middle" x="144" y="100">/</text><text text-anchor="middle" x="120" y="132">d</text><text text-anchor="middle" x="128" y="132">a</text><text text-anchor="middle" x="136" y="132">t</text><text text-anchor="middle" x="144" y="132">a</text><text text-anchor="middle" x="152" y="132">/</text><text text-anchor="middle" x="152" y="164">a</text><text text-anchor="middle" x="160" y="164">u</text><text text-anchor="middle" x="168" y="164">d</text><text text-anchor="middle" x="176" y="164">i</text><text text-anchor="middle" x="184" y="164">o</text><text text-anchor="middle" x="192" y="164">/</text><text text-anchor="middle" x="152" y="180">i</text><text text-anchor="middle" x="160" y="180">m</text><text text-anchor="middle" x="168" y="180">a</text><text text-anchor="middle" x="176" y="180">g</text><text text-anchor="middle" x="184" y="180">e</text><text text-anchor="middle" x="192" y="180">s</text><text text-anchor="middle" x="200" y="180">/</text><text text-anchor="middle" x="120" y="212">s</text><text text-anchor="middle" x="128" y="212">t</text><text text-anchor="middle" x="136" y="212">a</text><text text-anchor="middle" x="144" y="212">t</text><text text-anchor="middle" x="152" y="212">i</text><text text-anchor="middle" x="160" y="212">c</text><text text-anchor="middle" x="168" y="212">/</text><text text-anchor="middle" x="120" y="228">t</text><text text-anchor="middle" x="128" y="228">e</text><text text-anchor="middle" x="136" y="228">m</text><text text-anchor="middle" x="144" y="228">p</text><text text-anchor="middle" x="152" y="228">l</text><text text-anchor="middle" x="160" y="228">a</text><text text-anchor="middle" x="168" y="228">t</text><text text-anchor="middle" x="176" y="228">e</text><text text-anchor="middle" x="184" y="228">s</text><text text-anchor="middle" x="192" y="228">/</text><text text-anchor="middle" x="120" y="244">v</text><text text-anchor="middle" x="128" y="244">i</text><text text-anchor="middle" x="136" y="244">e</text><text text-anchor="middle" x="144" y="244">w</text><text text-anchor="middle" x="152" y="244">s</text><text text-anchor="middle" x="160" y="244">/</text><text text-anchor="middle" x="120" y="260">u</text><text text-anchor="middle" x="128" y="260">t</text><text text-anchor="middle" x="136" y="260">i</text><text text-anchor="middle" x="144" y="260">l</text><text text-anchor="middle" x="152" y="260">i</text><text text-anchor="middle" x="160" y="260">t</text><text text-anchor="middle" x="168" y="260">i</text><text text-anchor="middle" x="176" y="260">e</text><text text-anchor="middle" x="184" y="260">s</text><text text-anchor="middle" x="192" y="260">/</text><text text-anchor="middle" x="120" y="276">d</text><text text-anchor="middle" x="128" y="276">b</text><text text-anchor="middle" x="136" y="276">.</text><text text-anchor="middle" x="144" y="276">d</text><text text-anchor="middle" x="152" y="276">b</text><text text-anchor="middle" x="120" y="292">d</text><text text-anchor="middle" x="128" y="292">b</text><text text-anchor="middle" x="136" y="292">c</text><text text-anchor="middle" x="144" y="292">o</text><text text-anchor="middle" x="152" y="292">n</text><text text-anchor="middle" x="160" y="292">t</text><text text-anchor="middle" x="168" y="292">r</text><text text-anchor="middle" x="176" y="292">o</text><text text-anchor="middle" x="184" y="292">l</text><text text-anchor="middle" x="192" y="292">.</text><text text-anchor="middle" x="200" y="292">p</text><text text-anchor="middle" x="208" y="292">y</text><text text-anchor="middle" x="88" y="324">m</text><text text-anchor="middle" x="96" y="324">a</text><text text-anchor="middle" x="104" y="324">i</text><text text-anchor="middle" x="112" y="324">n</text><text text-anchor="middle" x="120" y="324">.</text><text text-anchor="middle" x="128" y="324">p</text><text text-anchor="middle" x="136" y="324">y</text><text text-anchor="middle" x="88" y="340">n</text><text text-anchor="middle" x="96" y="340">o</text><text text-anchor="middle" x="104" y="340">t</text><text text-anchor="middle" x="112" y="340">i</text><text text-anchor="middle" x="120" y="340">f</text><text text-anchor="middle" x="128" y="340">i</text><text text-anchor="middle" x="136" y="340">c</text><text text-anchor="middle" x="144" y="340">a</text><text text-anchor="middle" x="152" y="340">t</text><text text-anchor="middle" x="160" y="340">i</text><text text-anchor="middle" x="168" y="340">o</text><text text-anchor="middle" x="176" y="340">n</text><text text-anchor="middle" x="184" y="340">.</text><text text-anchor="middle" x="192" y="340">p</text><text text-anchor="middle" x="200" y="340">y</text><text text-anchor="middle" x="88" y="356">t</text><text text-anchor="middle" x="96" y="356">e</text><text text-anchor="middle" x="104" y="356">s</text><text text-anchor="middle" x="112" y="356">t</text><text text-anchor="middle" x="120" y="356">s</text><text text-anchor="middle" x="128" y="356">.</text><text text-anchor="middle" x="136" y="356">p</text><text text-anchor="middle" x="144" y="356">y</text></g></g></svg>
    
    </p>
    <a class="target" name="tests/">&nbsp;</a><a class="target" name="detailedcodelayout/serverside/tests/">&nbsp;</a><a class="target" name="toc3.2.1">&nbsp;</a><h3>tests/</h3>
    <p>
    
    We have python scripts here that serve more for documentation purposes and examples of how to use the libraries we were considering.
    This was mainly used during the process of figuring out how to turn the note frequency and end_times arrays into playable wav files.
    
    </p>
    <a class="target" name="website/data/">&nbsp;</a><a class="target" name="detailedcodelayout/serverside/website/data/">&nbsp;</a><a class="target" name="toc3.2.2">&nbsp;</a><h3>website/data/</h3>
    <p>
    
    This folder had a folder for all of the generated wav files that we simply point to from our database. The images folder contains image assets for our home and meet the team pages.
    
    </p>
    <a class="target" name="website/static/">&nbsp;</a><a class="target" name="detailedcodelayout/serverside/website/static/">&nbsp;</a><a class="target" name="toc3.2.3">&nbsp;</a><h3>website/static/</h3>
    <p>
    
    Contains styling sheets (css) used by our html pages
    
    </p>
    <a class="target" name="website/templates/">&nbsp;</a><a class="target" name="detailedcodelayout/serverside/website/templates/">&nbsp;</a><a class="target" name="toc3.2.4">&nbsp;</a><h3>website/templates/</h3>
    <p>
    
    Home to our html pages. Jijna2 inheritance was utilized without flask to be able to create a base template in which our other pages could inherit from.
    This cleaned up our html code quite a bit and made it easier to customize later on.
    
    </p>
    <a class="target" name="website/views/">&nbsp;</a><a class="target" name="detailedcodelayout/serverside/website/views/">&nbsp;</a><a class="target" name="toc3.2.5">&nbsp;</a><h3>website/views/</h3>
    <p>
    
    Included here are the actual Python scripts that serve the user thier respective pages. 
    The visualdb.py script handles additional functionality such as filtering out POST requests sent from the simply search bar located in the navbar, or the “advanced search” form located in the home page.
    Filtering out the data is abstracted away by using the <code>get_data</code> method in dbcontrol.py. 
    
    </p>
    <a class="target" name="website/utilities/">&nbsp;</a><a class="target" name="detailedcodelayout/serverside/website/utilities/">&nbsp;</a><a class="target" name="toc3.2.6">&nbsp;</a><h3>website/utilities/</h3>
    <p>
    
    Stores any python helper scripts needed by the esp32 or the server itself such as audio.py for note conversion and dbapi.py and songinfo.py which help the user retrive/post data on songs from the esp32 side.
    
    </p>
    <a class="target" name="notification.py">&nbsp;</a><a class="target" name="detailedcodelayout/serverside/notification.py">&nbsp;</a><a class="target" name="toc3.2.7">&nbsp;</a><h3>notification.py</h3>
    <p>
    
    Repeated GET requests to notification tells the esp32 whether or not there is new song data to checkout on the server. 
    
    </p>
    <a class="target" name="databaseanddbcontrol.py">&nbsp;</a><a class="target" name="detailedcodelayout/serverside/databaseanddbcontrol.py">&nbsp;</a><a class="target" name="toc3.2.8">&nbsp;</a><h3>database and dbcontrol.py</h3>
    <p>
    
    The file dbcontrol.py serves as an API for our database that lets us <code>get_data</code>, <code>add_data</code>, and <code>get_last_id</code> as needed within the logic of the html files.
    The database contains a table called <code>songs</code> whose purpose is to save songs sent by the user from the ESP32 side. It has these columns:
    
    </p><p>
    
    </p><ul>
    <li class="asterisk"><code>id</code>, a unqiue identification number: used to retrieve notes back to the esp32
    </li>
    <li class="asterisk"><code>songname</code>, name given by user: this is done in the recording state of the system
    </li>
    <li class="asterisk"><code>author</code>: tells us which esp32 posted this song
    </li>
    <li class="asterisk"><code>frequencies</code>: the note frequencies of the song as sent by the esp32
    </li>
    <li class="asterisk"><code>end_times</code>: used to tell us when to stop playing a certain frequency
    </li>
    <li class="asterisk"><code>time_</code>, a timestamp: used when sorting by most recent songs</li></ul>
    
    <p></p><p>
    
    For example:
    </p><div class="table"><table class="table"><tbody><tr><th style="text-align:center">  ID </th><th style="text-align:center"> Name </th><th style="text-align:center"> Author/Location </th><th style="text-align:center"> Song </th><th style="text-align:center"> Date        </th></tr>
    <tr><td style="text-align:center">  54 </td><td style="text-align:center"> i want you back </td><td style="text-align:center"> Jackson5 </td><td style="text-align:center"> <em class="asterisk">playable file here</em> </td><td style="text-align:center"> 2021-05-09 14:57  </td></tr>
    <tr><td style="text-align:center">  53 </td><td style="text-align:center"> never going to give you up </td><td style="text-align:center"> Rick </td><td style="text-align:center"> <em class="asterisk">playable file here</em> </td><td style="text-align:center"> 2021-05-09 14:53  </td></tr>
    </tbody></table></div> -->
    
    <p></p>
    <a class="target" name="milestonecontributions">&nbsp;</a><a class="target" name="milestonecontributions">&nbsp;</a><a class="target" name="toc4">&nbsp;</a><h1>Milestone Contributions</h1>
    <p>
    
    
    Here are the weekly milestones seperated into 4 categories based on how much they contributed to a particular functionality of the system.
    
    </p>
    <a class="target" name="freeplayfunctionality">&nbsp;</a><a class="target" name="milestonecontributions/freeplayfunctionality">&nbsp;</a><a class="target" name="toc4.1">&nbsp;</a><h2>Free Play Functionality</h2>
    <p>
    
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/tPlnKJwN2B8" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Send sensor reading to the Serial monitor, and have a way of differentiating between frequencies coming from different devices.</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/7khlS5T2DDA" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Free Play Mode</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/cFbvw4tXOsw" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Make Free Play More Robust and Print Remaining Mounts</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/XbiTXVIhxX8" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Implement variation of Free Play playing multiple notes at once</span></center></div></center>
    
    <p></p>
    <a class="target" name="secondarymodesfunctionality">&nbsp;</a><a class="target" name="milestonecontributions/secondarymodesfunctionality">&nbsp;</a><a class="target" name="toc4.2">&nbsp;</a><h2>Secondary Modes Functionality</h2>
    <p>
    
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/RsjL2jiu4qo" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Naming Recordings using Google’s Speech API</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/EJsaIk916sU" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Recording Mode</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/LdR9eLXJE98" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Song Mode</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/fyiZQ1chhIA" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Integrate Song Mode into Main Body of Code</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/8gBDn5RGuZ0" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Updated Song Mode with Lights</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/UfcrCNHbg7s" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Sequencer Mode</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/eOr3jmLpJkc" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Integrate Recording Mode with Piano Stairs</span></center></div></center>
    
    <p></p>
    <a class="target" name="esp32ui/hardwarefunctionality">&nbsp;</a><a class="target" name="milestonecontributions/esp32ui/hardwarefunctionality">&nbsp;</a><a class="target" name="toc4.3">&nbsp;</a><h2>ESP32 UI/Hardware Functionality</h2>
    <p>
    
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/b1B3SwZmOwE" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Wire up laser module and send frequency data to ESP32</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/wtNDlFcSXYY" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Implement State Machine and Basic UI of ESP32</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/-5dzn5mj55E" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Notifications for New Songs</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/JttNFdSzqg0" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Piano Keys light up LEDs</span></center></div></center> 
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/gtbA-5gfX4E" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Optimize Memory Usage to extend Recording Buffer</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/bzUpNi5kFbM" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Clean up hardware/wires to make presentable</span></center></div></center>
    
    <p></p>
    <a class="target" name="serverwebsitefunctionality">&nbsp;</a><a class="target" name="milestonecontributions/serverwebsitefunctionality">&nbsp;</a><a class="target" name="toc4.4">&nbsp;</a><h2>Server Website Functionality</h2>
    <p>
    
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/oyCZryL-Fq8" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Basic Web UI Framework</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/RJyrINzUwqY" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Database Handling of Frequency and Timing Arrays</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/UBKW9xOdSpk" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Website Searching and Filtering</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/ThjD62EfGA0" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Navigation Bar</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/FzgIuPLVZIY" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Search Bar</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/UAaw94atx4w" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Indivial Song Page</span></center></div></center>
    
    <p></p><p>
    
    </p><center><div class="image" style=""><iframe class="markdeep" src="https://www.youtube.com/embed/FzqdrAsE7-A" width="480px" height="300px" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe><center><span class="imagecaption">Robust Search and UI Improvements</span></center></div></center>
    
    <p></p>
    <a class="target" name="teammembers">&nbsp;</a><a class="target" name="teammembers">&nbsp;</a><a class="target" name="toc5">&nbsp;</a><h1>Team Members</h1>
    <p>
    
    
    
    </p><ul>
    <li class="asterisk">Brian Li
    </li>
    <li class="asterisk">Maximo Machado
    </li>
    <li class="asterisk">Piero Orderique
    </li>
    <li class="asterisk">Nicole Stiles
    </li>
    <li class="asterisk">Aaron Zhu</li></ul>
    
    <p></p><p>
    
    <script src="https://casual-effects.com/markdeep/latest/markdeep.min.js?" charset="utf-8"></script></p></span><div id="mdContextMenu" style="visibility:hidden"></div><div class="markdeepFooter"><i>formatted by <a href="https://casual-effects.com/markdeep" style="color:#999">Markdeep&nbsp;1.13&nbsp;&nbsp;</a></i><div style="display:inline-block;font-size:13px;font-family:'Times New Roman',serif;vertical-align:middle;transform:translate(-3px,-1px)rotate(135deg);">✒</div></div></body>
</html>